# Certo Spec
# Format: TOML

[spec]
name = "certo"
version = 1
created = 2026-02-05T14:07:00Z
author = "metaist"

# =============================================================================
# CLAIMS - Verifiable statements about certo
# =============================================================================

[[claims]]
id = "c-spec-toml"
text = "Spec files use TOML format"
status = "confirmed"
source = "human"
author = "metaist"
level = "block"
tags = ["format"]
verify = ["static"]
files = [".certo/spec.toml"]
created = 2026-02-05T14:07:00Z
why = "TOML is explicit, has no implicit type coercion, no code execution risk"
considered = ["YAML", "JSON", "KDL", "Markdown+frontmatter"]

[[claims]]
id = "c-certo-dir"
text = "Certo stores its data in .certo/ directory"
status = "confirmed"
source = "human"
author = "metaist"
level = "block"
tags = ["structure"]
verify = ["static"]
files = []
created = 2026-02-05T14:07:00Z
why = "Dotted because it's tool-managed, like .git"
considered = ["Single file", "certo/ (not dotted)", "certo.toml at root"]

[[claims]]
id = "c-utc-timestamps"
text = "All timestamps in spec files use UTC with timezone"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["format"]
verify = ["static"]
files = [".certo/spec.toml"]
created = 2026-02-05T14:45:00Z
why = "TOML natively supports datetime with timezone. UTC avoids ambiguity."
considered = ["Local dates only", "Unix timestamps"]

[[claims]]
id = "c-check-fast"
text = "certo check --offline completes in under 2 seconds"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["performance"]
verify = ["benchmark"]
created = 2026-02-05T14:50:00Z
why = "Developers run checks frequently. Slow checks get disabled or ignored."

[[claims]]
id = "c-kb-bundled"
text = "Knowledge base is bundled with certo package"
status = "confirmed"
source = "human"
author = "metaist"
level = "block"
tags = ["architecture"]
verify = ["static"]
created = 2026-02-05T17:00:00Z
why = "We don't know enough about what kinds of knowledge we need yet. Bundling avoids premature schema design."
considered = ["Fetchable to ~/.certo/", "Separate certo-knowledge package"]

[[claims]]
id = "c-kb-toml"
text = "Knowledge metadata uses TOML format (meta.toml)"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["format"]
verify = ["static"]
files = ["src/certo/kb/python/meta.toml"]
created = 2026-02-05T17:00:00Z
why = "TOML is already our standard"
considered = ["JSON", "YAML"]

[[claims]]
id = "c-typeshed-source"
text = "Python stdlib version data comes from typeshed VERSIONS file"
status = "confirmed"
source = "human"
author = "metaist"
level = "block"
tags = ["knowledge"]
verify = ["static"]
files = ["src/certo/kb/python/VERSIONS"]
created = 2026-02-05T17:00:00Z
why = "Typeshed is already used by pyright, mypy. The VERSIONS file is exactly what we need."
considered = ["Scrape Python docs", "Maintain our own database"]

[[claims]]
id = "c-kb-update"
text = "certo kb update fetches knowledge from authoritative sources"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["transparency"]
verify = ["static"]
files = ["src/certo/kb/update.py"]
created = 2026-02-05T17:00:00Z
why = "Transparency aligns with certo's philosophy. Anyone can audit or reproduce."
considered = ["Hidden scripts", "Manual curation"]

[[claims]]
id = "c-llm-verify"
text = "Claims can use LLM verification via OpenRouter API"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["verification"]
verify = ["static"]
files = ["src/certo/llm/provider.py"]
created = 2026-02-05T18:00:00Z
why = "LLMs can handle anything expressible in natural language without upfront work."
considered = ["Static checks only", "Custom code for each check type"]

[[claims]]
id = "c-test-mirror"
text = "Test directory structure mirrors source directory structure"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["maintainability"]
verify = ["static"]
created = 2026-02-05T19:00:00Z
why = "Mirroring keeps navigation simple"
considered = ["Flat test directory", "Tests alongside source"]

[[claims]]
id = "c-coverage"
text = "Test coverage is at least 98%"
status = "confirmed"
source = "human"
author = "metaist"
level = "block"
tags = ["maintainability"]
verify = ["coverage"]
created = 2026-02-05T14:07:00Z

[[claims]]
id = "c-python-compat"
text = "certo runs on all Python versions in CI matrix"
status = "confirmed"
source = "human"
author = "metaist"
level = "block"
tags = ["compatibility"]
verify = ["scan"]
created = 2026-02-05T14:07:00Z

[[claims]]
id = "c-cli-docs"
text = "docs/cli.md documents all CLI commands"
status = "confirmed"
source = "human"
author = "metaist"
level = "warn"
tags = ["documentation"]
verify = ["llm"]
files = ["docs/cli.md", "src/certo/cli/__init__.py"]
created = 2026-02-05T14:07:00Z

# =============================================================================
# ISSUES - Closed design decisions and open questions
# =============================================================================

[[issues]]
id = "i-problem-framing"
text = "What problem does certo solve?"
status = "closed"
tags = ["vision"]
created = 2026-02-05T14:07:00Z
closed_reason = "The verification problem is universalâ€”gap between intent and implementation. AI just made it urgent. Certo addresses both."

[[issues]]
id = "i-assurance-types"
text = "What kinds of assurance does certo provide?"
status = "closed"
tags = ["vision"]
created = 2026-02-05T14:07:00Z
closed_reason = "Multiple types: confidence, proof, auditability, alerting. Strongest available for each statement, explicit about what kind."

[[issues]]
id = "i-target-users"
text = "Who are the target users?"
status = "closed"
tags = ["vision"]
created = 2026-02-05T14:07:00Z
closed_reason = "In order: (1) metaist building certo, (2) metaist on other projects, (3) technical users, (4) non-technical stakeholders."

[[issues]]
id = "i-mvp"
text = "What's the minimal viable loop?"
status = "closed"
tags = ["bootstrap"]
created = 2026-02-05T14:07:00Z
closed_reason = "Parse spec, verify at least one claim. Start with check command, can verify certo with certo immediately."

[[issues]]
id = "i-spec-structure"
text = "How should spec content be organized?"
status = "closed"
tags = ["format"]
created = 2026-02-05T14:07:00Z
closed_reason = "Narrow-broad-narrow: top-level categories, items within, details in each. Avoids indentation hell and context loss."

[[issues]]
id = "i-context-overrides"
text = "How should context overrides work?"
status = "closed"
tags = ["format"]
created = 2026-02-05T14:45:00Z
closed_reason = "Structured and nested. modifications = [{ claim = 'c-xxx', action = 'relax' }]. Machine-readable, validates cleanly."

[[issues]]
id = "i-assumption-tracking"
text = "How do we handle implicit assumptions?"
status = "closed"
tags = ["architecture"]
created = 2026-02-05T16:00:00Z
closed_reason = "Track explicitly. certo scan discovers assumptions, check verifies consistency. Enables automated checking."

[[issues]]
id = "i-ecosystem-scope"
text = "Which language ecosystems to support?"
status = "closed"
tags = ["scope"]
created = 2026-02-05T17:00:00Z
closed_reason = "Start with Python stdlib, extensible to others. Prove the pattern first, don't over-engineer."

[[issues]]
id = "i-spec-model"
text = "What types belong in the spec?"
status = "closed"
tags = ["format"]
created = 2026-02-05T20:00:00Z
closed_reason = "Three types: claims (verifiable statements), issues (questions/decisions), contexts (where rules differ). Everything else is metadata."

# =============================================================================
# CONTEXTS
# =============================================================================

[[contexts]]
id = "x-bootstrap"
name = "bootstrap"
description = "While building certo with certo; some claims may not be fully verified yet"
created = 2026-02-05T14:07:00Z
expires = 2026-06-01T00:00:00Z
modifications = []
